page: setup_cygwin
    module: perl

    my $home = $ENV{HOME}
    my $user
    $if $home=~/\/home\/(\w+)/
        $user=$1

    my @plist=("/Program Files", "/Users/$user/AppData/Local/Programs")

    $if !-f "$home/bin/javac"
        &call probe, Java, jdk
            system "ln -sv \"$d/bin/javac\" $home/bin/"
            system "ln -sv \"$d/bin/java\" $home/bin/"

    $(if:0)
        $if !-f "$home/bin/python"
            &call probe, Python, Python
                system "ln -sv \"$d/python\" $home/bin/"

subcode: probe(name, glob)
    $foreach $p in @plist
        my $p_dir="/cygdrive/c"."$p/$(name)/"
        chdir $p_dir or next
        my @all = glob("$(glob)*")
        $if @all
            my $d = $p_dir.$all[-1]
            BLOCK
            last
